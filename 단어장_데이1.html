<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ë‹¨ì–´ ì•”ê¸° ë§ˆìŠ¤í„° - Day 01</title>
    <style>
        :root { --primary: #4a90e2; --success: #2ecc71; --error: #e74c3c; --bg: #f5f7fa; }
        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg); display: flex; justify-content: center; padding: 20px; }
        .container { background: white; width: 100%; max-width: 500px; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #333; font-size: 1.5rem; margin-bottom: 20px; }
        .step-indicator { display: flex; justify-content: space-between; margin-bottom: 20px; font-weight: bold; color: var(--primary); }
        .progress-bar { height: 8px; background: #eee; border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }
        .question-card { margin-bottom: 20px; }
        .ko-meaning { font-size: 1.8rem; font-weight: bold; text-align: center; margin-bottom: 30px; color: #222; }
        
        /* 1ë‹¨ê³„ 4ì§€ì„ ë‹¤ ìŠ¤íƒ€ì¼ */
        .options { display: grid; gap: 10px; }
        .option-btn { padding: 15px; border: 2px solid #eee; border-radius: 10px; background: white; cursor: pointer; font-size: 1.1rem; transition: 0.2s; }
        .option-btn:hover { border-color: var(--primary); background: #f0f7ff; }
        
        /* 2ë‹¨ê³„ ì…ë ¥í˜• ìŠ¤íƒ€ì¼ */
        .input-area { display: flex; flex-direction: column; gap: 15px; }
        input[type="text"] { padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 1.2rem; text-align: center; }
        
        .btn-submit { padding: 15px; background: var(--primary); color: white; border: none; border-radius: 10px; font-size: 1.1rem; cursor: pointer; }
        .feedback { text-align: center; margin-top: 15px; font-weight: bold; min-height: 24px; }
        .correct { color: var(--success); }
        .incorrect { color: var(--error); }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ“ Day 01 ì˜ë‹¨ì–´ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="step-indicator">
        <span id="stepTitle">1ë‹¨ê³„: 4ì§€ì„ ë‹¤</span>
        <span id="countDisplay">1 / 25</span>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>

    <div id="quizArea">
        <div class="ko-meaning" id="koMeaning">ë‹¨ì–´ëœ»</div>
        
        <div id="step1Options" class="options"></div>
        
        <div id="step2Input" class="input-area hidden">
            <input type="text" id="engInput" placeholder="ì˜ì–´ ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off">
            <button class="btn-submit" onclick="checkStep2()">ì •ë‹µ í™•ì¸</button>
        </div>

        <div id="feedback" class="feedback"></div>
    </div>

    <div id="resultArea" class="hidden" style="text-align: center;">
        <h2 id="resultMsg">í•™ìŠµ ì™„ë£Œ!</h2>
        <button class="btn-submit" onclick="location.reload()">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
    </div>
</div>

<script>
    const vocaData = [
        {en: 'life', ko: 'ì‚¶, ì¸ìƒ'}, {en: 'live', ko: 'ì‚´ë‹¤'}, {en: 'age', ko: 'ë‚˜ì´; ì‹œëŒ€'},
        {en: 'young', ko: 'ì–´ë¦°, ì Šì€'}, {en: 'old', ko: 'ë‚˜ì´ê°€ ë§ì€, ëŠ™ì€'}, {en: 'youth', ko: 'ì²­ë…„, ì ŠìŒ'},
        {en: 'marry', ko: 'ê²°í˜¼í•˜ë‹¤'}, {en: 'death', ko: 'ì£½ìŒ'}, {en: 'birth', ko: 'ì¶œìƒ, íƒ„ìƒ'},
        {en: 'cute', ko: 'ê·€ì—¬ìš´'}, {en: 'pretty', ko: 'ì˜ˆìœ, ê½¤'}, {en: 'ugly', ko: 'ëª»ìƒê¸´'},
        {en: 'handsome', ko: 'ì˜ìƒê¸´, ë©‹ì§„'}, {en: 'beautiful', ko: 'ì•„ë¦„ë‹¤ìš´'}, {en: 'lovely', ko: 'ì‚¬ë‘ìŠ¤ëŸ¬ìš´'},
        {en: 'charming', ko: 'ë§¤ë ¥ì ì¸'}, {en: 'beard', ko: 'í„±ìˆ˜ì—¼'}, {en: 'fat', ko: 'ëš±ëš±í•œ'},
        {en: 'thin', ko: 'ë§ˆë¥¸; ì–‡ì€'}, {en: 'slim', ko: 'ë‚ ì”¬í•œ'}, {en: 'skinny', ko: 'ê¹¡ë§ˆë¥¸'},
        {en: 'neat', ko: 'ê¹”ë”í•œ'}, {en: 'curly', ko: 'ê³±ìŠ¬ê³±ìŠ¬í•œ'}, {en: 'blond', ko: 'ê¸ˆë°œì˜'},
        {en: 'tall', ko: 'í‚¤ê°€ í°'}
    ];

    let currentStep = 1;
    let currentIndex = 0;
    let currentQuizList = [];

    // ë°°ì—´ ì„ê¸°
    function shuffle(array) {
        return array.sort(() => Math.random() - 0.5);
    }

    function initQuiz() {
        currentQuizList = shuffle([...vocaData]);
        showQuestion();
    }

    function showQuestion() {
        const currentWord = currentQuizList[currentIndex];
        document.getElementById('koMeaning').innerText = currentWord.ko;
        document.getElementById('countDisplay').innerText = `${currentIndex + 1} / ${currentQuizList.length}`;
        document.getElementById('progress').style.width = `${((currentIndex + 1) / currentQuizList.length) * 100}%`;
        document.getElementById('feedback').innerText = '';

        if (currentStep === 1) {
            setupStep1(currentWord.en);
        } else {
            setupStep2();
        }
    }

    // 1ë‹¨ê³„: 4ì§€ì„ ë‹¤ ë²„íŠ¼ ìƒì„±
    function setupStep1(correctEn) {
        const optionsDiv = document.getElementById('step1Options');
        optionsDiv.innerHTML = '';
        
        let choices = [correctEn];
        while (choices.length < 4) {
            let randomWord = vocaData[Math.floor(Math.random() * vocaData.length)].en;
            if (!choices.includes(randomWord)) choices.push(randomWord);
        }
        shuffle(choices).forEach(choice => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = choice;
            btn.onclick = () => checkStep1(choice, correctEn);
            optionsDiv.appendChild(btn);
        });
    }

    function checkStep1(selected, correct) {
        const feedback = document.getElementById('feedback');
        if (selected === correct) {
            feedback.innerHTML = '<span class="correct">ì •ë‹µì…ë‹ˆë‹¤!</span>';
            setTimeout(nextQuestion, 800);
        } else {
            feedback.innerHTML = `<span class="incorrect">í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µ: ${correct}</span>`;
        }
    }

    // 2ë‹¨ê³„: ì£¼ê´€ì‹ ì„¤ì •
    function setupStep2() {
        document.getElementById('step1Options').classList.add('hidden');
        document.getElementById('step2Input').classList.remove('hidden');
        document.getElementById('stepTitle').innerText = '2ë‹¨ê³„: ë‹¨ì–´ ì…ë ¥';
        const inputField = document.getElementById('engInput');
        inputField.value = '';
        inputField.focus();
    }

    function checkStep2() {
        const inputField = document.getElementById('engInput');
        const feedback = document.getElementById('feedback');
        const correct = currentQuizList[currentIndex].en.toLowerCase();
        
        if (inputField.value.trim().toLowerCase() === correct) {
            feedback.innerHTML = '<span class="correct">ì •ë‹µì…ë‹ˆë‹¤!</span>';
            setTimeout(nextQuestion, 800);
        } else {
            feedback.innerHTML = `<span class="incorrect">í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µ: ${correct}</span>`;
        }
    }

    function nextQuestion() {
        currentIndex++;
        if (currentIndex >= currentQuizList.length) {
            if (currentStep === 1) {
                alert("1ë‹¨ê³„ë¥¼ í†µê³¼í–ˆìŠµë‹ˆë‹¤! 2ë‹¨ê³„(ì§ì ‘ ì“°ê¸°)ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.");
                currentStep = 2;
                currentIndex = 0;
                currentQuizList = shuffle([...vocaData]);
                showQuestion();
            } else {
                showResult();
            }
        } else {
            showQuestion();
        }
    }

    function showResult() {
        document.getElementById('quizArea').classList.add('hidden');
        document.getElementById('resultArea').classList.remove('hidden');
        document.getElementById('stepTitle').innerText = 'í•™ìŠµ ì™„ë£Œ';
    }

    // ì—”í„°í‚¤ ì§€ì›
    document.getElementById('engInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') checkStep2();
    });

    initQuiz();
</script>
</body>
</html>
